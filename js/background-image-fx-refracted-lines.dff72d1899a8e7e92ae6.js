"use strict";(globalThis.webpackChunknew_bedford_framework=globalThis.webpackChunknew_bedford_framework||[]).push([[2989],{22302:(t,e,n)=>{n.d(e,{A:()=>S});var i=n(64467);const o=!!("ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof DocumentTouch),r="none",s="mouse",a="scroll";var u=n(23029),c=n(92901),f=function(){return(0,c.A)(function t(e){var n=e.shiftUniform,i=e.props,o=e.node;(0,u.A)(this,t),this.shiftUniform=n,this.props=i,this.node=o},[{key:"setProps",value:function(t){this.props=t}},{key:"setImmediate",value:function(){}},{key:"setIsIntersecting",value:function(){}},{key:"setScrollProgress",value:function(){}},{key:"update",value:function(){return this.shiftUniform[0]=0,this.shiftUniform[1]=0,!1}},{key:"destroy",value:function(){}}])}(),l=(n(94226),n(50388)),h=n(53954),p=n(85501);function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(m=function(){return!!t})()}var d=function(t){function e(){var t,n,o,r;(0,u.A)(this,e);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return n=this,o=e,r=[].concat(a),o=(0,h.A)(o),t=(0,l.A)(n,m()?Reflect.construct(o,r||[],(0,h.A)(n).constructor):o.apply(n,r)),(0,i.A)(t,"shiftTarget",[0,0]),(0,i.A)(t,"shiftResetTID",-1),(0,i.A)(t,"onPointerMove",function(e){var n=t.node.getBoundingClientRect(),i=(e.clientX-n.left)/n.width,o=(e.clientY-n.top)/n.height;t.shiftTarget[0]=-2*i+1,t.shiftTarget[1]=2*o-1,t.onPointerLeave()}),(0,i.A)(t,"onPointerLeave",function(){clearTimeout(t.shiftResetTID),t.shiftResetTID=setTimeout(t.resetShift,2e3)}),(0,i.A)(t,"resetShift",function(){t.shiftTarget=[0,0]}),t}return(0,p.A)(e,t),(0,c.A)(e,[{key:"setIsIntersecting",value:function(t){t?this.enable():this.disable()}},{key:"enable",value:function(){this.node.addEventListener("mousemove",this.onPointerMove),this.node.addEventListener("mouseleave",this.onPointerLeave)}},{key:"disable",value:function(){this.node.removeEventListener("mousemove",this.onPointerMove),this.node.removeEventListener("mouseleave",this.onPointerLeave)}},{key:"update",value:function(){var t=this.props,e=t.shiftSpeed,n=t.mouseX,i=t.mouseY,o=this.shiftUniform,r=this.shiftTarget;-1!==n&&-1!==i&&(r=[.01*n*-2+1,.01*i*2-1]);var s=r[0]-o[0],a=r[1]-o[1];return(0!==s||0!==a)&&(o[0]+=s*(.002*e),o[1]+=a*(.002*e),!0)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.shiftResetTID)}}])}(f);function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}var g=function(t){function e(){var t,n,o,r;(0,u.A)(this,e);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return n=this,o=e,r=[].concat(a),o=(0,h.A)(o),t=(0,l.A)(n,v()?Reflect.construct(o,r||[],(0,h.A)(n).constructor):o.apply(n,r)),(0,i.A)(t,"targetProgress",0),(0,i.A)(t,"isImmediate",!0),t}return(0,p.A)(e,t),(0,c.A)(e,[{key:"setIsIntersecting",value:function(t){t&&this.setImmediate()}},{key:"setImmediate",value:function(){this.isImmediate=!0}},{key:"setScrollProgress",value:function(t){this.isImmediate&&(this.shiftUniform[1]=t,this.isImmediate=!1),this.targetProgress=t}},{key:"update",value:function(){var t=this.props,e=t.shiftSpeed,n=t.scrollProgress,i=this.shiftUniform[1],o=this.targetProgress;if(n>=0&&(o=.01*n),i===o)return!1;var r=o-i;return this.shiftUniform[1]=r<.01?o:i+r*(.01*e),this.shiftUniform[0]=0,!0}}])}(f),y=(0,i.A)((0,i.A)((0,i.A)({},r,f),a,g),s,d);const S=function(t){return t===s&&o?y[a]:y[t]}},27478:(t,e,n)=>{n.d(e,{A:()=>v});n(94226);var i=n(23029),o=n(92901),r=n(50388),s=n(53954),a=n(90991),u=n(85501),c=n(64467),f=n(91546),l=n(22302);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){(0,c.A)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(m=function(){return!!t})()}function d(t,e,n,i){var o=(0,a.A)((0,s.A)(1&i?t.prototype:t),e,n);return 2&i&&"function"==typeof o?function(t){return o.apply(n,t)}:o}var v=function(t){function e(t,n){var o,a,u,f;return(0,i.A)(this,e),a=this,u=e,f=[t,p({programKey:"refracted-lines-program",frag:"\nfloat ease(float t) {\n  float f = t - 1.0;\n  return f * f * f + 1.0;\n}\n\nuniform sampler2D uImage;\nuniform float uBulge;\nuniform float uLineCount;\nuniform float uLineRegionSize;\nuniform float uLineSize;\nuniform float uRotation;\nuniform float uScale;\nuniform float uShiftIntensity;\nuniform vec2 uOffsetScale;\nuniform vec2 uResolution;\nuniform vec2 uShift;\n\nvarying vec2 vUv;\n\nvec2 rotate(vec2 uv, float amount) {\n  vec2 prime = vec2(uv.x * cos(amount) + uv.y * sin(amount),\n    -uv.x * sin(amount) + uv.y * cos(amount));\n  return prime;\n}\n\nfloat getStep (vec2 uv) {\n  return (1.0 + floor(distance(uv.x, 0.0) / uLineRegionSize * uLineCount));\n}\n\nvoid main () {\n  vec2 uv = rotate((vUv - 0.5) * uResolution, uRotation);\n  float step = getStep(uv);\n  float multiplier = sign(uv.x);\n\n  uv = rotate(uv, -uRotation);\n\n  float aspect = uResolution.x / uResolution.y;\n\n  float interpStep = multiplier * step;\n  float strength = step / (uLineCount * 0.5);\n  vec2 rotated = vec2(cos(uRotation), sin(uRotation));\n\n  interpStep -= multiplier * 0.5;\n\n  vec2 centered = interpStep * uLineSize * vec2(aspect, 1.0) * uOffsetScale * rotated;\n\n  uv += uShift * uResolution * uShiftIntensity * ease((step + 1.0) / uLineCount);\n  uv = (uv - centered) * (2.0 - uScale + strength * uBulge) + centered;\n  uv /= uResolution;\n  uv += 0.5;\n  uv = mod(uv * -sign(mod(uv, 2.0) - 1.0), 1.0);\n\n  vec4 tx = texture2D(uImage, uv);\n  tx.xyz *= tx.a;\n\n  gl_FragColor = tx;\n}\n",uniforms:{uResolution:[1,1],uShift:[0,0]}},n)],u=(0,s.A)(u),o=(0,r.A)(a,m()?Reflect.construct(u,f||[],(0,s.A)(a).constructor):u.apply(a,f)),(0,c.A)(o,"isIntersecting",!1),(0,c.A)(o,"onIntersection",function(t){o.isIntersecting=t,o.interaction.setIsIntersecting(t)}),(0,c.A)(o,"onScrollProgress",function(t){o.interaction.setScrollProgress(t)}),o.autoUpdate=!1,o.updateInteraction(),o.setSize(),o}return(0,u.A)(e,t),(0,o.A)(e,[{key:"updateInteraction",value:function(){this.interaction&&this.interaction.destroy();var t=(0,l.A)(this.props.interactionType);this.interaction=new t({shiftUniform:this.uniforms.uShift,props:this.props,node:this.node.closest("section")||this.node}),this.interaction.setIsIntersecting(this.isIntersecting)}},{key:"onUpdateProps",value:function(t){d(e,"onUpdateProps",this,3)([t]),this.props.interactionType!==t.interactionType?this.updateInteraction():this.interaction.setProps(this.props)}},{key:"getUniformsFromProps",value:function(){var t=this.props,e=t.rotation,n=t.intensity,i=t.offsetScaleX,o=t.offsetScaleY,r=t.scale,s=t.shiftIntensity;return{uRotation:e*Math.PI/180,uBulge:.01*n,uOffsetScale:[.01*i,.01*o],uScale:.01*r,uShiftIntensity:.01*s}}},{key:"update",value:function(){this.interaction.update()&&(this.isDirty=!0)}},{key:"onRefresh",value:function(){d(e,"onRefresh",this,3)([]),this.setSize()}},{key:"setSize",value:function(){var t=this.canvas,e=t.width,n=t.height,i=this.props,o=i.size,r=i.contextScale,s=Math.sqrt(e*e+n*n),a=Math.ceil(s/(o*r)),u=a*(o*r);this.uniforms.uLineSize=o*r,this.uniforms.uLineCount=a,this.uniforms.uLineRegionSize=u,this.uniforms.uResolution[0]=e,this.uniforms.uResolution[1]=n,this.interaction.setImmediate()}},{key:"onDestroy",value:function(){d(e,"onDestroy",this,3)([]),this.interaction.destroy()}}])}(f.A);(0,c.A)(v,"defaultProps",{intensity:0,size:0,offsetScaleX:0,offsetScaleY:0,rotation:0,scale:0,interactionType:"none",shiftIntensity:0,shiftSpeed:0,contextScale:1,scrollProgress:-1,mouseX:-1,mouseY:-1})},94926:(t,e,n)=>{n.d(e,{A:()=>f});var i=n(36630),o=n(21339),r=n(67373),s=n(73864),a=n(22902);const u={none:{type:"none"},liquid:{type:"liquid",scale:2,rotation:270,intensity:10,morphSpeed:5,seed:100,shadow:8,smoothness:100,speed:50},pan:{type:"parallax",intensity:12,rotation:15,zoomStart:10,zoomEnd:0},tilt:{type:"parallax",intensity:15,rotation:90,zoomStart:0,zoomEnd:0},zoom:{type:"parallax",intensity:0,rotation:90,zoomStart:30,zoomEnd:0},"film-grain":{type:"filmGrain",intensity:50,shadow:0,speed:30},"refracted-lines":{type:"refractedLines",intensity:-25,size:120,offsetScaleX:50,offsetScaleY:50,rotation:135,scale:80,interactionType:"scroll",shiftIntensity:25,shiftSpeed:20},"refracted-circles":{type:"refractedCircles",isLimitRings:!1,numRings:5,centerOffsetSize:55,size:150,rotation:2,scaleEven:100,scaleOdd:90,scaleTaperEven:10,scaleTaperOdd:-10,interactionType:"mouse",shiftIntensity:50,shiftSpeed:20,isStepFlipRotation:!0,isStepFlipX:!1,isStepFlipY:!1}};function c(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:i+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class f extends r.A{constructor(t,e){super(),c(this,"onImageLoaded",()=>{this.isImageLoaded&&this.component?this.component.setProps({imageNeedsUpdate:!0}):(this.isImageLoaded=!0,this.initComponent())}),this.node=t,this.WebGLComponent=e,this.image=t.querySelector("img"),this.focalPoint=(0,a.TT)(this.image),this.section=t.closest("section");const{sectionId:n,currentStyles:o,currentContext:r}=this.section.dataset;this.sectionId=n,this.state=this.resolveImageEffectProps(JSON.parse(o),JSON.parse(r).backgroundMediaEffect),this.isImageLoaded=!1,this.isEnabled=i.A&&!s.oZ,this.image&&(this.isEnabled?this.checkImageLoaded():this.image.style.visibility="visible")}resolveImageEffectProps(t,e){return e&&"none"!==e.type?e:t.imageEffect?(t=>{const e=u[t];if(!e)throw new Error(`No props found for type: ${t}`);return e})(t.imageEffect):{}}checkImageLoaded(){this.image.onload=this.onImageLoaded,this.image.complete&&""!==this.image.currentSrc&&this.onImageLoaded()}initComponent(){const t=this.node.querySelector(".background-fx-canvas"),e=this.state;this.component=new o.A(this.WebGLComponent,t,{image:this.image,focalPoint:this.focalPoint,pixelRatio:Math.min(devicePixelRatio,1.5),...e})}destroy(){var t;null===(t=this.component)||void 0===t||t.destroy()}}},61269:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(94926);function o(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:i+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class r extends i.A{constructor(t,e){super(t,e),o(this,"sectionWillChange",(t,e)=>{const{styles:n,backgroundMediaEffect:i}=e,o=this.resolveImageEffectProps(n,i);return o.type===this.state.type&&(this.component.setProps(o),this.setState(o),!0)})}destroy(){super.destroy()}}},94570:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var i=n(27478),o=n(61269);class r extends o.A{constructor(t){super(t,i.A)}}const s=t=>new r(t)},63718:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var i=n(27478),o=n(94926);class r extends o.A{constructor(t){super(t,i.A)}}const s=t=>new r(t)},22902:(t,e,n)=>{n.d(e,{P6:()=>o,TT:()=>u,_v:()=>s,kr:()=>r,pG:()=>a});n(68444);var i=n(63285);const o=t=>{if(!t)return 1;if(!t.dataset.imageDimensions){const e=t.getAttribute("width"),n=t.getAttribute("height");return e&&n?+e/+n:1}const e=t.dataset.imageDimensions.split("x");return e[0]&&e[1]?+e[0]/+e[1]:void 0},r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(t<=e)return t;const n=window.innerWidth;return n<=i.fi.sm?Math.max(e,Math.round(.25*t)):n<=i.fi.md?Math.max(e,Math.round(.5*t)):n<=i.fi.lg?Math.max(e,Math.round(.75*t)):t},s=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const e=window.innerWidth;let n=Math.max(1,t);return 1===n?n:e<=i.fi.sm?2:e<=i.fi.md?Math.max(Math.ceil(.5*n),2):e<=i.fi.lg?Math.ceil(.75*n):n},a=t=>{let e=0,n=0;const i={width:e,height:n};return t?(t.dataset.imageDimensions?[e,n]=t.dataset.imageDimensions.split("x"):(e=t.getAttribute("width"),n=t.getAttribute("height")),e&&n?{width:+e,height:+n}:i):i},u=t=>{const e={x:.5,y:.5};if(!t)return e;if(!t.dataset.imageFocalPoint)return e;const[n,i]=t.dataset.imageFocalPoint.split(",");return n&&i?{x:+n,y:+i}:e}},90991:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(53954);function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,i.A)(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},o.apply(this,arguments)}}}]);